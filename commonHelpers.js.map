{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form-search');\nconst galleryList = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader-wrapper');\nconst API_KEY = '42027651-7bedd500762feb24dffc0a2de';\nconst url = `https://pixabay.com/api/?`;\nconst searchParams = new URLSearchParams({\n  key: API_KEY,\n  q: '',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n  per_page: 40,\n  page: 1,\n});\n\nconst simplelightboxOptions = {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n};\nconst iziToastOptions = {\n  theme: 'dark',\n  class: 'izi-toast-error-style',\n  title: 'Error',\n  message:\n    'Sorry, there are no images matching your search query. Please try again!',\n  backgroundColor: '#EF4040',\n  iconUrl: './img/octagon.svg',\n};\nconst lightbox = new SimpleLightbox('.gallery-list a', simplelightboxOptions);\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  loader.style.display = 'flex';\n  galleryList.innerHTML = '';\n  searchParams.set('q', e.target.elements.search.value);\n  fetchImages()\n    .then(images => {\n      images.totalHits > 0\n        ? renderImages(images)\n        : iziToast.error(iziToastOptions);\n      loader.style.display = 'none';\n    })\n    .catch(error => console.log(error));\n  form.reset();\n}\n\nfunction fetchImages() {\n  return fetch(url + searchParams).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nconst markup = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\" loading=\"lazy\"/>\n        </a>\n        <div class=\"item-info\">\n        <p class=\"item-info-p\">Likes <span>${likes}</span></p>\n        <p class=\"item-info-p\">Views <span>${views}</span></p>\n        <p class=\"item-info-p\">Comments <span>${comments}</span></p>\n        <p class=\"item-info-p\">Downloads <span>${downloads}</span></p>\n        </div>\n        </li>`;\n      }\n    )\n    .join('');\n};\n\nfunction renderImages(images) {\n  galleryList.insertAdjacentHTML('beforeend', markup(images.hits));\n  lightbox.refresh();\n}\n"],"names":["form","galleryList","loader","API_KEY","url","searchParams","simplelightboxOptions","iziToastOptions","lightbox","SimpleLightbox","handleSubmit","e","fetchImages","images","renderImages","iziToast","error","response","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAAU,qCACVC,EAAM,4BACNC,EAAe,IAAI,gBAAgB,CACvC,IAAKF,EACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,GACV,KAAM,CACR,CAAC,EAEKG,EAAwB,CAC5B,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,EACMC,EAAkB,CACtB,MAAO,OACP,MAAO,wBACP,MAAO,QACP,QACE,2EACF,gBAAiB,UACjB,QAAS,mBACX,EACMC,EAAW,IAAIC,EAAe,kBAAmBH,CAAqB,EAE5EN,EAAK,iBAAiB,SAAUU,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBT,EAAO,MAAM,QAAU,OACvBD,EAAY,UAAY,GACxBI,EAAa,IAAI,IAAKM,EAAE,OAAO,SAAS,OAAO,KAAK,EACpDC,EAAa,EACV,KAAKC,GAAU,CACdA,EAAO,UAAY,EACfC,EAAaD,CAAM,EACnBE,EAAS,MAAMR,CAAe,EAClCL,EAAO,MAAM,QAAU,MAC7B,CAAK,EACA,MAAMc,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpChB,EAAK,MAAK,CACZ,CAEA,SAASY,GAAc,CACrB,OAAO,MAAMR,EAAMC,CAAY,EAAE,KAAKY,GAAY,CAChD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,MAAMC,EAASL,GACNA,EACJ,IACC,CAAC,CACC,cAAAM,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBN,CAAa;AAAA,4CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,6CAGzBC,CAAK;AAAA,6CACLC,CAAK;AAAA,gDACFC,CAAQ;AAAA,iDACPC,CAAS;AAAA;AAAA,cAIrD,EACA,KAAK,EAAE,EAGZ,SAASX,EAAaD,EAAQ,CAC5BZ,EAAY,mBAAmB,YAAaiB,EAAOL,EAAO,IAAI,CAAC,EAC/DL,EAAS,QAAO,CAClB"}