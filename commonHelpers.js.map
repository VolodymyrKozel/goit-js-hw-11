{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst form = document.querySelector('.form-search');\nconst galleryList = document.querySelector('.gallery-list');\nconst API_KEY = '42027651-7bedd500762feb24dffc0a2de';\nlet q = '';\nconst url = `https://pixabay.com/api/?key=${API_KEY}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nconst simplelightboxOptions = {\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        captionDelay: 250,\n};\nconst iziToastOptions = {\n        class: 'izi-toast-error-style',\n        title: 'Error',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        backgroundColor: '#EF4040',\n        iconUrl: './img/octagon.svg',\n}\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  galleryList.innerHTML = '';\n  q = e.target.elements.search.value;\n  fetchImages()\n    .then(images => renderImages(images))\n    .catch(error => console.log(error));\n  form.reset();\n}\n\nfunction fetchImages() {\n  console.log(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${q}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nfunction renderImages(images) {\n  console.log(images);\n  if (images.hits == 0) {\n    iziToast.error(iziToastOptions);\n  } else {\n    const markup = images.hits\n      .map(({largeImageURL, webformatURL, tags, likes, views, comments, downloads}) => {\n        return `<li class=\"gallery-item\">\n          <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\"/>\n          </a>\n          <div class=\"item-info\">\n          <p class=\"item-info-p\">Likes <span>${likes}</span></p>\n          <p class=\"item-info-p\">Views <span>${views}</span></p>\n          <p class=\"item-info-p\">Comments <span>${comments}</span></p>\n          <p class=\"item-info-p\">Downloads <span>${downloads}</span></p>\n          </div>\n          </li>`;\n      })\n      .join('');\n    galleryList.insertAdjacentHTML('beforeend', markup);\n    let lightbox = new SimpleLightbox('.gallery-list a', simplelightboxOptions);\n  }\n}\n"],"names":["form","galleryList","API_KEY","q","simplelightboxOptions","iziToastOptions","handleSubmit","e","fetchImages","images","renderImages","error","response","iziToast","markup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAU,qCAChB,IAAIC,EAAI,GAGR,MAAMC,EAAwB,CACtB,aAAc,MACd,gBAAiB,SACjB,aAAc,GACtB,EACMC,EAAkB,CAChB,MAAO,wBACP,MAAO,QACP,QAAS,2EACT,gBAAiB,UACjB,QAAS,mBACjB,EAEAL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAChBN,EAAY,UAAY,GACxBE,EAAII,EAAE,OAAO,SAAS,OAAO,MAC7BC,EAAa,EACV,KAAKC,GAAUC,EAAaD,CAAM,CAAC,EACnC,MAAME,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACpCX,EAAK,MAAK,CACZ,CAEA,SAASQ,GAAc,CACrB,eAAQ,IACN,gCAAgCN,CAAO,MAAMC,CAAC,0DAClD,EACS,MACL,gCAAgCD,CAAO,MAAMC,CAAC,0DAClD,EAAI,KAAKS,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASF,EAAaD,EAAQ,CAE5B,GADA,QAAQ,IAAIA,CAAM,EACdA,EAAO,MAAQ,EACjBI,EAAS,MAAMR,CAAe,MACzB,CACL,MAAMS,EAASL,EAAO,KACnB,IAAI,CAAC,CAAC,cAAAM,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAClE;AAAA,0CAC2BN,CAAa;AAAA,8CACTC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,+CAGzBC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA,gBAGrD,EACA,KAAK,EAAE,EACVpB,EAAY,mBAAmB,YAAaa,CAAM,EACnC,IAAIQ,EAAe,kBAAmBlB,CAAqB,CAC3E,CACH"}